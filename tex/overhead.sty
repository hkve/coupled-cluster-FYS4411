% Math
\usepackage{amsmath}
\usepackage{physics}
\usepackage{amsfonts} % for mathbb

% Citetations
% \usepackage[ backend=bibtex, sorting=none, autocite=plain]{biblatex}
% \addbibresource{sections/references}
\usepackage{natbib}
\bibliographystyle{plain}
\usepackage[table,xcdraw]{xcolor}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}}
\usepackage{multirow}


% Formatting
\usepackage{float}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage[font=small, labelfont=bf]{caption}

\graphicspath{ {./figs/} } 

% Referecing sections, equations etc
\usepackage[capitalize]{cleveref}
\crefdefaultlabelformat{\textbf{#2}}
\crefname{eq}{Eq.}{Eq.}
\crefname{sec}{Sec.}{Sec.}
\crefname{app}{App.}{App.}
\crefname{fig}{Fig.}{Fig.}
\crefname{tab}{Tab.}{Tab.}
\crefname{algo}{Algo.}{Algo.}
\crefdefaultlabelformat{#2#1#3}

% Misc
\usepackage{appendix}
\usepackage{xfrac} % provides \sfrac
\usepackage{algorithm}
\usepackage{algpseudocode} % for pseudocode

% Commands

\newcommand{\comment}[1]{\textcolor{red}{#1}}

\newcommand{\integral}[1]{\ensuremath{\int\!\mathrm{d}#1\,}}
\renewcommand{\d}[2][x]{\ensuremath{\frac{\mathrm{d}#2}{\mathrm{d}#1}}}
\newcommand{\pd}[2][x]{\ensuremath{\frac{\partial #2}{\partial #1}}}

\renewcommand{\vec}[1]{\boldsymbol{#1}}
\newcommand{\pclosed}[1]{\left(#1\right)}
\newcommand{\bclosed}[1]{\left[#1\right]}
\newcommand{\cclosed}[1]{\left\{#1\right\}}
\newcommand{\vclosed}[1]{\left|#1\right|}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}
\newcommand{\ceil}[1]{\lceil #1 \rceil}
\renewcommand{\norm}[2][]{\ensuremath{\|#2\|_{#1}}}
\renewcommand{\exp}[1]{e^{#1}}
\newcommand{\exptext}[1]{\operatorname{exp}\pclosed{#1}}
\newcommand{\dimof}[1]{\bigl[#1\bigr]}
\newcommand{\normal}[2]{\operatorname{\mathcal{N}}\pclosed{#1,#2}}
\newcommand{\set}[1]{\{#1\}}

\newcommand{\distas}{\overset{d}{\sim}}
\renewcommand{\expval}{\operatorname{\mathbb{E}}}
\DeclareMathOperator{\mse}{MSE}
\renewcommand{\var}{\operatorname{Var}}
\newcommand{\bias}{\operatorname{Bias}}
\DeclareMathOperator{\Rsquared}{R^2}
\DeclareMathOperator{\eye}{\mathbb{I}}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\Nabla}{\boldsymbol{\nabla}}
\DeclareMathOperator{\Nablatheta}{\Nabla_{\vec{\theta}}}

\newcommand{\msub}[2]{\ensuremath{{#1}_\text{#2}}}
\newcommand{\evalat}[2]{\left.#1\right|_{#2}}

% Define colors
\definecolor{mint}{rgb}{0.24, 0.71, 0.54}
\definecolor{maroon}{rgb}{0.85, 0.2, 0.53}
\definecolor{cyan}{rgb}{0.0, 0.72, 0.92}
\definecolor{tealblue}{rgb}{0.21, 0.46, 0.53}

% QM shortcuts
\newcommand{\sphericalharmonic}[2]{Y^{#1}_{#2}}
\newcommand{\associatedlaguerre}[2]{L^{#1}_{#2}}

% MB shortcuts
\newcommand{\crt}[1]{\hat{#1}^{\dagger}}
\newcommand{\ani}[1]{\hat{#1}}
\newcommand{\crta}[1]{a^{\dagger}_{#1}}
\newcommand{\ania}[1]{a_{#1}}
\newcommand{\ketansatz}{\ket{\Phi_0}}
\newcommand{\braansatz}{\bra{\Phi_0}}
\newcommand{\ketexed}[2]{\ket{\Phi^{#1}_{#2}}}
\newcommand{\braexed}[2]{\bra{\Phi^{#1}_{#2}}}
\newcommand{\Eref}{E_{\text{ref}}}
\newcommand{\elmAS}[2]{\mel{#1}{}{#2}}
\newcommand{\elm}[2]{\bra{#1}\hat{v}\ket{#2}}
\newcommand{\ham}{\hat{H}}
\newcommand{\hamno}{\hat{H}_\text{N}}
\newcommand{\fock}{\hat{F}}
\newcommand{\fockno}{\hat{F}_\text{N}}
\newcommand{\interno}{\hat{V}_\text{N}}
\newcommand{\elmshort}[2]{v^{#1}_{#2}}
\newcommand{\elmASshort}[2]{\bar{v}^{#1}_{#2}}
\newcommand{\hshort}[2]{h_{#1#2}}
\newcommand{\fshort}[2]{f_{#1#2}}
\newcommand{\hamhf}[1]{h^{\text{HF}}_{#1}}

% CC shortcuts
\newcommand{\cluster}[1]{\hat{T}_{#1}}
\newcommand{\amplitude}[2]{t^{#1}_{#2}}
\newcommand{\amplituderestrict}[2]{\tau^{#1}_{#2}}
\newcommand{\ketCCD}{\ket{\Psi_{\text{CCD}}}}
\newcommand{\ketCC}{\ket{\Psi_{\text{CC}}}}
\newcommand{\ECCD}{E_{\text{CCD}}}
\newcommand{\DECCD}{\Delta E_{\text{CCD}}}
\newcommand{\permone}[1]{\hat{P}(#1)}
\newcommand{\permtwo}[2]{\hat{P}(#1|#2)}
\newcommand{\simham}{\overline{\mkern-1.9mu H\mkern-0.9mu}}
\newcommand{\permoperatorshort}[1]{\hat{P}_{#1}}
\newcommand{\permoperator}[1]{\hat{P}(#1)}

% Untis
\newcommand{\au}{\text{ a.u.}}